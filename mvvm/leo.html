<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>leo-mvvm</title>
</head>
<body>
<span id="span">wahah</span>
<button id="btn">leo</button>
<script src="leo.js"></script>
<script>
    var leo = new Leo({
        data: {
            name :"leo",
            message: 'Hello!',
            num: 0,
            arr: [1, 2, 3],
            deep: {
                a: 'wahahhaha'
            }
        },
        computed: {
            b: {
                get: function() {
                    var a = this.name;
                    var b = this.message
                    return a + " " + b + " " + this.num + " " + this.deep.a + this.deep.b
                },
                set: function(newVal) {
                    return this.name = newVal + '43243242432'
                }
            },
            d: function() {
                return this.b + " " + this.name + " " + JSON.stringify(this.arr)
            }
        },
    }), i = 1, span = document.getElementById('span')
    leo.$watch(function(){
        return this.name
    }, function(value, oldValue){
        span.textContent = value
    })

//    console.log(leo.d)
//    leo.message = 'TC'
//    leo.arr.push(4)
//    leo.deep.a = 'wao'
//    leo.deep.b = 'leoleoleo'
//    leo.b = 'leo'
//    console.log(leo.d)
    leo.name = '432'
    document.getElementById('btn').addEventListener('click', function(){
        leo.num = i++
        leo.arr.push(i)
        leo.deep.a = 'deep.a: ' + i++
        leo.deep.b = 'deep.b: ' + i++
        leo.name = 'leoTc' + i++
        console.log(leo.d)
    })
</script>
</body>
</html>