<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>leo-mvvm</title>
</head>
<body>
<button id="btn">leo</button>
<script src="leo.js"></script>
<script>
    var leo = new Leo({
        data: {
            name :"leo",
            message: 'Hello!',
            num: 0,
            arr: [1, 2, 3],
            deep: {
                a: 'wahahhaha'
            }
        },
        computed: {
            b: {
                get: function() {
                    var a = this.name;
                    var b = this.message
                    return a + " " + b + " " + this.num + " " + this.deep.a + this.deep.b
                },
                set: function(newVal) {
                    console.log(this)
                    return this.a = newVal + '43243242432'
                }
            },
            d: function() {
                return this.b + " " + this.name + " " + JSON.stringify(this.arr)
            }
        },
    }), i = 1
//    leo.$watch(function(){
//        console.log(arguments)
//    })
    console.log(leo.d)
    leo.message = 'TC'
    leo.arr.push(4)
    leo.deep.a = 'wao'
    leo.deep.b = 'leoleoleo'
    leo.b = 'leo'
    console.log(leo.d)
    document.getElementById('btn').addEventListener('click', function(){
        leo.num = i++
        leo.arr.push(i)
//        leo.deep.a = 'deep.a: ' + i++
//        leo.deep.b = 'deep.b: ' + i++
        console.log(leo.d)
    })
</script>
</body>
</html>